{% extends "main/layout.html" %}{% block content %}

<section class="max-w-6xl w-full mx-auto px-3 pt-12 pb-20">
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-gray-900 mb-2">Gestión de Categories</h1>
    <p class="text-gray-600 font-semibold">
      Administra tus categorias de productos
    </p>
  </div>

  <div
    class="flex flex-col sm:flex-row gap-4 items-center justify-between my-12"
  >
    <div class="w-full sm:w-96">
      <form action="{% url 'categories:lista' %}" method="get">
        <div class="flex gap-2 items-end justify-center">
          <input
            type="text"
            name="q"
            placeholder="Buscar por nombre o descripción..."
            class="w-full px-4 bg-[#F5E6CF] py-2 border-[3px] font-semibold border-black focus:outline-none focus:border-sky-700 transition-all duration-300"
          />
          <button type="submit" class="btn bg-sky-400">
            <i style="-webkit-text-stroke: 1px" class="bi bi-search"></i>
          </button>
        </div>
      </form>
    </div>
    <a href="{% url 'categories:add' %}" class="btn bg-emerald-500">
      <i class="bi bi-plus-circle" style="-webkit-text-stroke: 1px"></i> Crear
      Categoria
    </a>
  </div>

  {% if categories %}

  <div class="space-y-3">
    {% for categorie in categories %}
    <div
      data-aos="flip-left"
      class="border-4 border-black bg-[#F5E6CF] p-4 rounded flex justify-between items-center flex-wrap"
    >
      <div>
        <h4 class="font-bold text-lg text-gray-900">{{categorie.name}}</h4>
        <p class="text-black font-semibold">{{categorie.description}}</p>
        <div class="flex gap-3">
          <p class="text-orange-600 font-semibold mb-1">
            Fecha Creacion:
            <span class="text-gray-900"> {{categorie.createdAt}}</span>
          </p>
        </div>
      </div>
      <div class="flex gap-2">
        <a
          href="{% url 'categories:update' categorie.id %}"
          class="bg-[#FF8C42] btn"
          >Editar</a
        >
        <form
          action="{% url 'categories:delete' categorie.id %}"
          method="DELETE"
        >
          <button
            onclick="return confirm('¿Seguro seguro que quieres eliminar este preciado articulo')"
            class="bg-red-400 btn produt-to-delete"
          >
            Eliminar
          </button>
        </form>
      </div>
    </div>

    {% endfor %}
  </div>
  {% else %}
  <div
    data-aos="flip-up"
    class="bg-[#F5E6CF] shadow-lg p-8 text-center flex-1 border-4 border-black"
  >
    <div class="mb-6 flex justify-center">
      <div
        class="w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center border-4 border-black"
      >
        <i class="bi bi-tags-fill text-3xl"></i>
      </div>
    </div>

    <h2 class="text-2xl font-bold mb-2">Sin Categorias</h2>
    <p class="text-gray-600 font-semibold mb-6 leading-relaxed">
      No encontramos ninguna para mostrar. Intenta a recargar la pagina o crear
      alguna.
    </p>
    <a href="{% url 'categories:add' %}" class="btn bg-emerald-500">
      <i class="bi bi-plus-circle" style="-webkit-text-stroke: 1px"></i> Crear
      Categoria
    </a>
  </div>
  {% endif %}
</section>
{% endblock %}
